(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4348:(e,t,a)=>{Promise.resolve().then(a.bind(a,6520))},6520:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var l=a(5155),s=a(2115);let n=["https://res.cloudinary.com/dggeuuu1n/image/upload/v1753139844/Image_fx_28_kbgaoo.png","https://res.cloudinary.com/dggeuuu1n/image/upload/v1753139826/Image_fx_21_gk3kgb.png","https://res.cloudinary.com/dggeuuu1n/image/upload/v1753139816/Image_fx_19_m9xlj0.png","https://res.cloudinary.com/dggeuuu1n/image/upload/v1753139781/Image_fx_23_c5o5rm.png","https://res.cloudinary.com/dggeuuu1n/image/upload/v1753139719/Image_fx_27_l7kd3r.png","https://res.cloudinary.com/dggeuuu1n/image/upload/v1753139678/Image_fx_22_mlhzrf.png"],r=["Bible Stories Puzzle 1","Bible Stories Puzzle 2","Bible Stories Puzzle 3","Bible Stories Puzzle 4","Bible Stories Puzzle 5","Bible Stories Puzzle 6"];function i(){let[e,t]=(0,s.useState)([]),[a,i]=(0,s.useState)(""),[o,c]=(0,s.useState)("Bible Stories Puzzle"),[u,d]=(0,s.useState)(!0),[x,m]=(0,s.useState)(""),[g,p]=(0,s.useState)(!1),[h,b]=(0,s.useState)(!1),[f,j]=(0,s.useState)(null),[y,N]=(0,s.useState)({x:0,y:0}),[v,S]=(0,s.useState)(!1),[D,z]=(0,s.useState)(null),[w,C]=(0,s.useState)(25),[k,_]=(0,s.useState)(0),[I,P]=(0,s.useState)(1),[E,T]=(0,s.useState)(!1),[B,F]=(0,s.useState)(!1),[M,A]=(0,s.useState)("nameInput"),[R,W]=(0,s.useState)(""),[Y,G]=(0,s.useState)(0),[L,U]=(0,s.useState)(!0),O=(0,s.useRef)(null),X=async()=>{let e=I+1;if(e>n.length){G(k),A("finalScore");return}P(e),C(25),b(!1),m(""),t([]),F(!0),await H()},H=async()=>{d(!0),m(""),b(!1),t([]);try{let e=Math.floor(Math.random()*n.length),t=n[e],a=r[e];await new Promise((e,a)=>{let l=new Image;l.onload=()=>e(l),l.onerror=()=>a(Error("Failed to load image: ".concat(t))),l.src=t}),i(t),c(a),q(t),E&&"playing"===M&&F(!0)}catch(e){console.error("Error loading image:",e),m("Error loading image: ".concat(e instanceof Error?e.message:"Unknown error")),p(!0)}finally{d(!1)}},K=()=>{A("nameInput"),W(""),_(0),P(1),C(25),T(!1),F(!1),m(""),G(0),U(!0)},q=e=>{let a=[];for(let e=0;e<9;e++){let t=Math.floor(e/3),l=e%3*50,s=50*t;a.push({id:e,originalIndex:e,currentIndex:e,backgroundPosition:{x:l,y:s}})}let l=[...a];for(let e=l.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[l[e],l[t]]=[l[t],l[e]]}t(l.map((e,t)=>({...e,currentIndex:t})))};(0,s.useEffect)(()=>{let e=null;return B&&w>0?e=setInterval(()=>{C(e=>e<=1?(F(!1),setTimeout(()=>{X()},1e3),0):e-1)},1e3):0===w&&F(!1),()=>{e&&clearInterval(e)}},[B,w]);let J=(e,a)=>{t(t=>{let l=[...t];[l[e],l[a]]=[l[a],l[e]];let s=l.map((e,t)=>({...e,currentIndex:t}));return s.every((e,t)=>e.originalIndex===t)&&(b(!0),F(!1),w>0?(_(e=>e+1),m("Excellent! +1 point! Time left: ".concat(w,"s")),p(!1),setTimeout(()=>{X()},2e3)):(m("Good job, but time's up! No points this time."),p(!0),setTimeout(()=>{X()},2e3))),s})},Q=e=>{e.preventDefault()},V=()=>{j(null)},Z=e=>{if(!v||!D)return;e.preventDefault();let t=e.touches[0];Math.sqrt(Math.pow(t.clientX-y.x,2)+Math.pow(t.clientY-y.y,2))>10&&D.classList.add("dragging")},$=e=>{if(!v||!D)return;e.preventDefault();let t=e.changedTouches[0],a=document.elementFromPoint(t.clientX,t.clientY),l=null==a?void 0:a.closest(".puzzle-piece");if(l&&l!==D){let e=parseInt(l.dataset.pieceIndex||"0"),t=parseInt(D.dataset.pieceIndex||"0");t!==e&&J(t,e)}D.classList.remove("dragging"),S(!1),z(null)};return((0,s.useEffect)(()=>{H()},[]),"nameInput"===M)?(0,l.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen p-5",children:(0,l.jsxs)("div",{className:"game-card p-8 max-w-md w-full",children:[(0,l.jsx)("h1",{className:"game-title text-5xl font-extrabold mb-6 text-center",children:"\uD83C\uDFAE Bible Stories Puzzle Challenge"}),(0,l.jsx)("p",{className:"text-gray-600 text-center mb-8 text-lg font-medium",children:"⏱️ Solve 6 Bible story puzzles in 25 seconds each!"}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"playerName",className:"block text-sm font-semibold text-gray-700 mb-3",children:"\uD83D\uDC64 Enter your name (optional):"}),(0,l.jsx)("input",{id:"playerName",type:"text",value:R,onChange:e=>W(e.target.value),placeholder:"Anonymous Player",className:"game-input w-full"})]}),(0,l.jsx)("button",{onClick:()=>{W(R||"Anonymous"),U(!1),T(!0),_(0),P(1),C(25),A("playing"),F(!0),H()},className:"game-button w-full text-lg py-4",children:"\uD83D\uDE80 Start Challenge"})]})]})}):"finalScore"===M?(0,l.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen p-5",children:(0,l.jsxs)("div",{className:"game-card p-8 max-w-md w-full text-center",children:[(0,l.jsx)("h1",{className:"game-title text-5xl font-extrabold mb-6",children:"\uD83C\uDF89 Challenge Complete!"}),(0,l.jsxs)("div",{className:"space-y-6 mb-8",children:[(0,l.jsxs)("div",{className:"text-2xl",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"\uD83D\uDC64 Player: "}),(0,l.jsx)("span",{className:"font-bold text-blue-600",children:R})]}),(0,l.jsxs)("div",{className:"text-5xl score-celebration ".concat(6===Y?"text-yellow-500":Y>=4?"text-green-500":Y>=2?"text-orange-500":"text-red-500"),children:[(0,l.jsx)("span",{className:"text-gray-600",children:"\uD83C\uDFC6 Final Score: "}),(0,l.jsxs)("span",{className:"font-bold",children:[Y,"/6"]})]}),(0,l.jsx)("div",{className:"text-xl text-gray-600 font-medium",children:6===Y?"\uD83C\uDF1F Perfect! You solved all puzzles!":Y>=4?"\uD83C\uDFAF Great job! Well done!":Y>=2?"\uD83D\uDCAA Good effort! Keep practicing!":"\uD83D\uDD25 Keep trying! You'll get better!"})]}),(0,l.jsx)("button",{onClick:K,className:"game-button w-full text-lg py-4",children:"\uD83D\uDD04 Play Again"})]})}):(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen p-5",children:[(0,l.jsx)("h1",{className:"game-title text-4xl font-extrabold mb-6 text-center",children:"\uD83C\uDFAE Bible Stories Puzzle Challenge"}),(0,l.jsxs)("div",{className:"flex justify-center space-x-4 mb-6 text-lg font-semibold flex-wrap",children:[(0,l.jsxs)("div",{className:"game-stats",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"\uD83D\uDC64 "}),(0,l.jsx)("span",{className:"text-blue-600 font-bold",children:R})]}),(0,l.jsxs)("div",{className:"game-stats",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"\uD83C\uDFC6 Score: "}),(0,l.jsx)("span",{className:"text-green-600 font-bold",children:k})]}),(0,l.jsxs)("div",{className:"game-stats",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"\uD83E\uDDE9 Puzzle: "}),(0,l.jsxs)("span",{className:"text-purple-600 font-bold",children:[I,"/6"]})]}),(0,l.jsxs)("div",{className:"game-stats font-bold ".concat(w<=5?"bg-red-500 text-white timer-critical":w<=10?"bg-yellow-500 text-white":"bg-green-500 text-white"),children:[(0,l.jsx)("span",{children:"⏱️ Time: "}),(0,l.jsxs)("span",{children:[w,"s"]})]})]}),(0,l.jsx)("div",{ref:O,className:"puzzle-container",style:{display:"grid",gap:"2px",border:"5px solid #4a90e2",borderRadius:"10px",boxShadow:"0 10px 20px rgba(0, 0, 0, 0.2)",backgroundColor:"#fff",padding:"5px",width:"600px",height:"600px",gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"repeat(3, 1fr)",userSelect:"none"},children:e.length>0?e.map((e,t)=>(0,l.jsx)("div",{className:"puzzle-piece ".concat(f===t?"dragging":""," ").concat(e.originalIndex===t?"correct":""),style:{backgroundImage:"url(".concat(a,")"),backgroundPosition:"".concat(e.backgroundPosition.x,"% ").concat(e.backgroundPosition.y,"%"),backgroundSize:"300% 300%",backgroundRepeat:"no-repeat",cursor:"grab",border:"1px solid rgba(0, 0, 0, 0.1)",boxSizing:"border-box",transition:"transform 0.1s ease-in-out",borderRadius:"5px",minHeight:"190px",minWidth:"190px",userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent"},draggable:!0,onDragStart:e=>{j(t),e.dataTransfer.setData("text/plain",t.toString())},onDragOver:Q,onDrop:e=>{e.preventDefault(),null!==f&&f!==t&&J(f,t),j(null)},onDragEnd:V,onTouchStart:e=>((e,t)=>{e.preventDefault();let a=e.touches[0];N({x:a.clientX,y:a.clientY}),z(e.currentTarget),S(!0)})(e,0),onTouchMove:Z,onTouchEnd:$,"data-piece-index":t},e.id)):(0,l.jsx)("div",{className:"col-span-3 row-span-3 flex items-center justify-center text-gray-500",children:u?"Loading puzzle pieces...":"No puzzle pieces available"})}),x&&(0,l.jsx)("div",{className:"message-box mt-5 px-8 py-4 rounded-lg shadow-lg text-center text-xl font-bold max-w-[80vw] ".concat(g?"bg-red-500":"bg-green-500"," text-white"),children:x}),(0,l.jsx)("div",{className:"mt-6",children:(0,l.jsx)("button",{onClick:K,className:"game-button bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-6 min-h-[44px]",children:"\uD83D\uDD04 Restart Game"})}),u&&(0,l.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex flex-col items-center justify-center text-white text-2xl z-50",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-20 w-20 border-4 border-white border-t-transparent mb-6"}),(0,l.jsx)("span",{className:"text-3xl font-bold",children:"\uD83C\uDFAE Loading puzzle..."}),(0,l.jsx)("span",{className:"text-lg mt-2 opacity-80",children:"Please wait!"})]})]})}function o(){return(0,l.jsx)("main",{className:"w-full",children:(0,l.jsx)(i,{})})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=4348)),_N_E=e.O()}]);